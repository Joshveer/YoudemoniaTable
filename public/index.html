<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Opportunity Spreadsheet</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-purple-50 p-4">
    <div class="max-w-7xl mx-auto">
        <!-- Header with logo, search bar, and dropdowns -->
        <div class="flex justify-between items-center mb-8">
            <!-- Logo -->
            <div class="w-20 h-20 flex-shrink-0">
                <img src="logo.webp" alt="Logo" class="w-full h-full object-contain">
            </div>

            <!-- Centered search bar -->
            <div class="flex-1 mx-4">
                <div class="relative">
                    <input type="text" id="searchInput" placeholder="Search by Name, Location, Age Group, or Industry" class="pl-10 pr-4 py-2 border rounded-full w-full bg-white">
                    <svg class="w-5 h-5 text-gray-500 absolute left-3 top-1/2 transform -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                </div>
            </div>

            <!-- Dropdowns for Industry and Age Group -->
            <div class="flex items-center space-x-4">
                <div class="relative">
                    <button id="industryButton" class="bg-purple-700 text-white font-bold px-4 py-2 rounded-full text-sm">Select Industry</button>
                    <div id="industryDropdown" class="absolute bg-white shadow-lg rounded mt-2 w-48 hidden">
                        <label class="block px-4 py-2"><input type="checkbox" value="Technology" class="industryCheckbox mr-2">Technology</label>
                        <label class="block px-4 py-2"><input type="checkbox" value="Healthcare" class="industryCheckbox mr-2">Healthcare</label>
                        <label class="block px-4 py-2"><input type="checkbox" value="Education" class="industryCheckbox mr-2">Education</label>
                        <label class="block px-4 py-2"><input type="checkbox" value="Environmental" class="industryCheckbox mr-2">Environmental</label>
                        <label class="block px-4 py-2"><input type="checkbox" value="Non-profit" class="industryCheckbox mr-2">Non-profit</label>
                        <label class="block px-4 py-2"><input type="checkbox" value="Arts" class="industryCheckbox mr-2">Arts</label>
                        <label class="block px-4 py-2"><input type="checkbox" value="Social Services" class="industryCheckbox mr-2">Social Services</label>
                    </div>
                </div>

                <div class="relative">
                    <button id="ageGroupButton" class="bg-purple-700 text-white font-bold px-4 py-2 rounded-full text-sm">Select Age Group</button>
                    <div id="ageGroupDropdown" class="absolute bg-white shadow-lg rounded mt-2 w-48 hidden">
                        <label class="block px-4 py-2"><input type="checkbox" value="Elementary" class="ageGroupCheckbox mr-2">Elementary School</label>
                        <label class="block px-4 py-2"><input type="checkbox" value="Middle School" class="ageGroupCheckbox mr-2">Middle School</label>
                        <label class="block px-4 py-2"><input type="checkbox" value="High School" class="ageGroupCheckbox mr-2">High School</label>
                        <label class="block px-4 py-2"><input type="checkbox" value="College" class="ageGroupCheckbox mr-2">College</label>
                        <label class="block px-4 py-2"><input type="checkbox" value="18+" class="ageGroupCheckbox mr-2">18+ Only</label>
                        <label class="block px-4 py-2"><input type="checkbox" value="All Ages" class="ageGroupCheckbox mr-2">All Ages</label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Buttons for all opportunities, favorites, and export favorites -->
        <div class="flex justify-center items-center space-x-8 mb-8">
            <button id="allOpportunities" class="bg-purple-700 text-white font-bold px-4 py-2 rounded-full text-sm">All Opportunities</button>
            <button id="favorites" class="bg-purple-700 text-white font-bold px-4 py-2 rounded-full text-sm">Favorites</button>
            <button id="exportFavorites" class="bg-red-700 text-white font-bold px-4 py-2 rounded-full text-sm">Export Favorites</button>
        </div>

        <!-- Spreadsheet table -->
        <div class="bg-white rounded-lg shadow overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-purple-700">
                    <tr>
                        <th class="px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider">Favorite</th>
                        <th class="px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider">Opportunity Name</th>
                        <th class="px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider">Organization</th>
                        <th class="px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider">Location</th>
                        <th class="px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider">Date/Time</th>
                        <th class="px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider">Tags</th>
                        <th class="px-4 py-3 text-left text-xs font-bold text-white uppercase tracking-wider">More Info</th>
                    </tr>
                </thead>
                <tbody id="opportunityTableBody" class="bg-white divide-y divide-gray-200">
                    <!-- Opportunities will be dynamically added here -->
                </tbody>
            </table>
        </div>

        <!-- Pagination -->
        <div class="mt-4 flex justify-between items-center">
            <button id="prevPage" class="bg-purple-700 text-white font-bold px-4 py-2 rounded-full text-sm">Previous</button>
            <span id="pageInfo">Page 1 of 2</span>
            <button id="nextPage" class="bg-purple-700 text-white font-bold px-4 py-2 rounded-full text-sm">Next</button>
        </div>
    </div>

    <!-- Modal for opportunity details -->
    <div id="detailsModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden">
        <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <div id="modalContent"></div>
            <div class="text-center mt-4">
                <button id="closeModal" class="bg-purple-700 text-white font-bold px-4 py-2 rounded-full text-sm">Close</button>
            </div>
        </div>
    </div>

    <script>
        const opportunities = [
            { name: "Community Cleanup", organization: "Green Earth", location: "New York, NY", datetime: "08/15/2024 09:00 AM", tags: ["Environment", "Community"], ageGroup: "All Ages", industry: "Environmental Services" },
            { name: "Food Drive", organization: "Feeding America", location: "Los Angeles, CA", datetime: "09/01/2024 10:00 AM", tags: ["Charity", "Food"], ageGroup: "18+", industry: "Non-profit" },
            { name: "Tech Workshop", organization: "Code for Good", location: "Chicago, IL", datetime: "08/22/2024 02:00 PM", tags: ["Education", "Technology"], ageGroup: "High School", industry: "Technology" },
            { name: "Art Exhibition", organization: "City Museum", location: "Houston, TX", datetime: "09/10/2024 11:00 AM", tags: ["Art", "Culture"], ageGroup: "All Ages", industry: "Arts" },
            { name: "Elderly Care Volunteer", organization: "SilverCare", location: "Miami, FL", datetime: "08/30/2024 10:00 AM", tags: ["Healthcare", "Volunteering"], ageGroup: "18+", industry: "Healthcare" },
            { name: "Environmental Workshop", organization: "EcoSave", location: "Denver, CO", datetime: "09/05/2024 01:00 PM", tags: ["Environment", "Community"], ageGroup: "College", industry: "Environmental" },
            // Add more opportunities to make 30 in total
            { name: "STEM Camp", organization: "Future Engineers", location: "Seattle, WA", datetime: "09/12/2024 08:00 AM", tags: ["Education", "STEM"], ageGroup: "Middle School", industry: "Education" },
            { name: "Blood Donation", organization: "Red Cross", location: "San Francisco, CA", datetime: "08/25/2024 12:00 PM", tags: ["Charity", "Healthcare"], ageGroup: "18+", industry: "Healthcare" },
            { name: "Animal Shelter Help", organization: "Happy Tails", location: "Austin, TX", datetime: "09/03/2024 09:00 AM", tags: ["Volunteering", "Animals"], ageGroup: "All Ages", industry: "Non-profit" },
            { name: "Park Beautification", organization: "City of Phoenix", location: "Phoenix, AZ", datetime: "08/20/2024 07:00 AM", tags: ["Environment", "Community"], ageGroup: "All Ages", industry: "Environmental Services" },
            { name: "Coding Bootcamp", organization: "TechStars", location: "Boston, MA", datetime: "08/28/2024 10:00 AM", tags: ["Education", "Technology"], ageGroup: "College", industry: "Technology" },
            { name: "Community Theater", organization: "Playhouse", location: "Portland, OR", datetime: "09/08/2024 06:00 PM", tags: ["Art", "Culture"], ageGroup: "All Ages", industry: "Arts" },
            { name: "Health Fair", organization: "Wellness Foundation", location: "Las Vegas, NV", datetime: "09/15/2024 10:00 AM", tags: ["Healthcare", "Community"], ageGroup: "18+", industry: "Healthcare" },
            { name: "Environmental Rally", organization: "Planet Earth", location: "San Diego, CA", datetime: "09/22/2024 03:00 PM", tags: ["Environment", "Activism"], ageGroup: "All Ages", industry: "Environmental Services" },
            { name: "Tutoring Program", organization: "Smart Kids", location: "Orlando, FL", datetime: "08/31/2024 04:00 PM", tags: ["Education", "Volunteering"], ageGroup: "High School", industry: "Education" },
            { name: "Charity Run", organization: "Move for a Cause", location: "Nashville, TN", datetime: "09/14/2024 08:00 AM", tags: ["Charity", "Fitness"], ageGroup: "18+", industry: "Non-profit" },
            { name: "Art Walk", organization: "City Arts", location: "Minneapolis, MN", datetime: "09/29/2024 10:00 AM", tags: ["Art", "Culture"], ageGroup: "All Ages", industry: "Arts" },
            { name: "Senior Tech Help", organization: "Silver Linings", location: "Philadelphia, PA", datetime: "09/18/2024 11:00 AM", tags: ["Volunteering", "Technology"], ageGroup: "18+", industry: "Technology" },
            { name: "Habitat Build", organization: "Habitat for Humanity", location: "Charlotte, NC", datetime: "09/25/2024 08:00 AM", tags: ["Community", "Volunteering"], ageGroup: "College", industry: "Non-profit" },
            { name: "Cultural Festival", organization: "Global Village", location: "Atlanta, GA", datetime: "09/30/2024 12:00 PM", tags: ["Culture", "Community"], ageGroup: "All Ages", industry: "Arts" },
            { name: "Mental Health Workshop", organization: "Mind Matters", location: "Newark, NJ", datetime: "09/10/2024 02:00 PM", tags: ["Healthcare", "Education"], ageGroup: "College", industry: "Healthcare" },
            { name: "Literacy Program", organization: "Read & Succeed", location: "Raleigh, NC", datetime: "08/19/2024 03:00 PM", tags: ["Education", "Community"], ageGroup: "High School", industry: "Education" },
            { name: "Food Bank Volunteer", organization: "Food for All", location: "Memphis, TN", datetime: "09/02/2024 11:00 AM", tags: ["Charity", "Volunteering"], ageGroup: "All Ages", industry: "Non-profit" },
            { name: "Eco Fair", organization: "Green Future", location: "Oklahoma City, OK", datetime: "08/27/2024 09:00 AM", tags: ["Environment", "Community"], ageGroup: "All Ages", industry: "Environmental Services" },
            { name: "Youth Leadership Conference", organization: "Leaders of Tomorrow", location: "Washington, DC", datetime: "09/07/2024 09:00 AM", tags: ["Leadership", "Education"], ageGroup: "College", industry: "Education" },
            { name: "Walk for Water", organization: "WaterAid", location: "San Antonio, TX", datetime: "09/13/2024 07:00 AM", tags: ["Charity", "Activism"], ageGroup: "18+", industry: "Non-profit" },
            { name: "Museum Tour", organization: "National Museum", location: "Baltimore, MD", datetime: "09/09/2024 01:00 PM", tags: ["Culture", "Education"], ageGroup: "All Ages", industry: "Arts" },
            { name: "Disaster Relief Fundraiser", organization: "Global Help", location: "Detroit, MI", datetime: "09/28/2024 06:00 PM", tags: ["Charity", "Community"], ageGroup: "18+", industry: "Non-profit" }
        ];

        let filteredOpportunities = [...opportunities];
        let currentPage = 1;
        const itemsPerPage = 15;

        function renderOpportunities(page) {
            const startIndex = (page - 1) * itemsPerPage;
            const endIndex = page * itemsPerPage;
            const opportunitiesToShow = filteredOpportunities.slice(startIndex, endIndex);

            const tableBody = document.getElementById('opportunityTableBody');
            tableBody.innerHTML = '';

            opportunitiesToShow.forEach(opp => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="px-4 py-4 whitespace-nowrap text-sm font-medium">
                        <input type="checkbox" class="favoriteCheckbox hidden" />
                        <span class="heartIcon cursor-pointer text-xl" onclick="toggleFavorite(this)">🤍</span>
                    </td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-900">${opp.name}</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-900">${opp.organization}</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-900">${opp.location}</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-900">${opp.datetime}</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm text-gray-900">${opp.tags.join(', ')}</td>
                    <td class="px-4 py-4 whitespace-nowrap text-sm font-medium"><button class="text-purple-700 hover:text-purple-900" onclick="showDetails('${opp.name}')">More Info</button></td>
                `;
                tableBody.appendChild(row);
            });

            document.getElementById('pageInfo').textContent = `Page ${page} of ${Math.ceil(filteredOpportunities.length / itemsPerPage)}`;
        }

        function toggleFavorite(heartIcon) {
            const checkbox = heartIcon.previousElementSibling;
            checkbox.checked = !checkbox.checked;
            heartIcon.textContent = checkbox.checked ? '❤️' : '🤍';
        }

        function filterOpportunities() {
            const selectedIndustries = Array.from(document.querySelectorAll('.industryCheckbox:checked')).map(cb => cb.value);
            const selectedAgeGroups = Array.from(document.querySelectorAll('.ageGroupCheckbox:checked')).map(cb => cb.value);

            filteredOpportunities = opportunities.filter(opp =>
                (selectedIndustries.length === 0 || selectedIndustries.includes(opp.industry)) &&
                (selectedAgeGroups.length === 0 || selectedAgeGroups.includes(opp.ageGroup))
            );
            currentPage = 1;
            renderOpportunities(currentPage);
        }

        document.getElementById('searchInput').addEventListener('input', function() {
            const query = this.value.toLowerCase();
            filteredOpportunities = opportunities.filter(opp =>
                opp.name.toLowerCase().includes(query) ||
                opp.organization.toLowerCase().includes(query) ||
                opp.location.toLowerCase().includes(query) ||
                opp.ageGroup.toLowerCase().includes(query) ||
                opp.industry.toLowerCase().includes(query) ||
                opp.tags.some(tag => tag.toLowerCase().includes(query))
            );
            currentPage = 1;
            renderOpportunities(currentPage);
        });

        document.getElementById('industryButton').addEventListener('click', () => {
            document.getElementById('industryDropdown').classList.toggle('hidden');
        });

        document.getElementById('ageGroupButton').addEventListener('click', () => {
            document.getElementById('ageGroupDropdown').classList.toggle('hidden');
        });

        document.querySelectorAll('.industryCheckbox, .ageGroupCheckbox').forEach(checkbox => {
            checkbox.addEventListener('change', filterOpportunities);
        });

        document.getElementById('prevPage').addEventListener('click', () => {
            if (currentPage > 1) {
                currentPage--;
                renderOpportunities(currentPage);
            }
        });

        document.getElementById('nextPage').addEventListener('click', () => {
            if (currentPage < Math.ceil(filteredOpportunities.length / itemsPerPage)) {
                currentPage++;
                renderOpportunities(currentPage);
            }
        });

        function showDetails(name) {
            const opp = opportunities.find(o => o.name === name);
            document.getElementById('modalContent').innerHTML = `
                <h2 class="text-xl font-bold mb-2">${opp.name}</h2>
                <p><strong>Organization:</strong> ${opp.organization}</p>
                <p><strong>Location:</strong> ${opp.location}</p>
                <p><strong>Date/Time:</strong> ${opp.datetime}</p>
                <p><strong>Tags:</strong> ${opp.tags.join(', ')}</p>
            `;
            document.getElementById('detailsModal').classList.remove('hidden');
        }

        document.getElementById('closeModal').addEventListener('click', () => {
            document.getElementById('detailsModal').classList.add('hidden');
        });

        renderOpportunities(currentPage);
    </script>
</body>
</html>
